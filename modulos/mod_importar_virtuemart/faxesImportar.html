
<div>
<h4>
	<a data-toggle="collapse" data-parent="#accordion" href="#collapse0" aria-expanded="false">
	1.-Preparar la tabla temporal `tmp_articulosCompleta` 
	<span style="float:right;" class="icono-collapse">+</span>
	</a>
	</h4>
	<div id="collapse0" class="collapse pepe">
	<p>Esta tabla es una <b>tabla temporal en Virtuemart</b> que la creamos para poder obtener los productos que queremos insertar.</p>
	<ul>
		<li>Creamos la tabla con nombre  `tmp_articulosCompleta`</li>
		<li>Calculamos el precio con Iva, ya que en virtuemart solo tenemos sin iva.</li>
		<li>Añadimos el campo `idArticulo` autonumerico, empezando desde el 1.</li>
		<li>Obtenemos la cantidad de productos que hay en virtuemart</li>
		<li>Comprobamos que no haya un Codbarras repetido, ya no tiene sentido</li>
	</ul>
	<p>En esta tabla añadimos campo idArticulo que es un autonumerico, que empieza 1.<p>
	<p>En esta misma funcion (crearTablaTempArticulosComp) también comprobamos que <b>no haya codbarras repetidos</b>, no tiene sentido añadir productos con el mismo codbarras.</p>
	<p>Si hay codigos barras repetidos los muestra y no permite continuar.</p>
	<p>Un tabla temporal solo existe mientras exista ESTA conexion y no se puede ver phpmyadmin.</p>
		<h5>
			<?php 
			/* Para que este expandido, lo hace con date aria-expanded ="false" o "true"
			 * */
			?>
			<a data-toggle="collapse" data-parent="#accordion" href="#collapse1" aria-expanded="false">Campos de esta tabla temporal `tmp_articulosCompleta`
			<span style="float:right;" class="icono-collapse">+</span>
			</a>
			
		</h5>
		<div id="collapse1" class="collapse pepe">
			<ul>
				<li>idArticulo int(11) AUTO_INCREMENT PRIMARY KEY</li>
				<li>crefTienda VHARCHAR(18);</li>
				<li>idTienda int(11),</li>
				<li>articulo_name VARCHAR(100),</li>
				<li>iva DECIMAL(4,2),</li>
				<li>codbarras VARCHAR(18),</li>
				<li>beneficio DECIMAL(5,2),</li>
				<li>costepromedio DECIMAL(17,6),</li>
				<li>estado VARCHAR(12),</li>
				<li>pvpCiva DECIMAL(17,6),</li>
				<li>pvpSiva DECIMAL(17,6),</li>
				<li>idProveedor int(11),</li>
				<li>fecha_creado DATETIME,</li>
				<li>fecha_modificado DATETIME</li>
			</ul>
		</div>
	</div>
</div>
<div>
	<h4>
		<a data-toggle="collapse" data-parent="#accordion" href="#collapse2" aria-expanded="false">
		2.-Preparar los inserts para realizar
		<span style="float:right;" class="icono-collapse">+</span>
		</a>
	</h4>
	<div id="collapse2" class="collapse pepe">
	<p> Esta funcion (PreparaInsertRegistroTpv) prepará los insert de 1000 registros como máximo, para luego poder insertar, no devuelve un array con el nombre tabla y los insert de cada tabla, también devuelve los descartados.</p>
	<p> Los descartados lo marca en <span class="alert-danger">rojo</span> que son aquellos que los campos que marcamos como obligatorios tiene contener datos.</p>
	</div>
</div>
<div>

</div>
